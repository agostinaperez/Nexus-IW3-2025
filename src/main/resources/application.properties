spring.application.name=nexus
dev.info.enabled=true

#esto q estoy haciendo es conectarme a mi bd
spring.datasource.url=jdbc:mysql://nexusdb:3306/nexusdb
spring.datasource.username=user
spring.datasource.password=password
spring.datasource.driverClassName=com.mysql.cj.jdbc.Driver
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect

spring.jpa.hibernate.ddl-auto=update

logging.level.org.springframework.orm.jpa=INFO
logging.level.org.springframework.transaction=INFO

#JERARQUIA DE LOGS: fatal error warn info debug trace, si defino  warn voy a ver warn, error y fatal y as�
   
spring.jpa.properties.hibernate.generate_statistics=false
logging.level.org.hibernate.stat=INFO
logging.level.org.hibernate.type=INFO

spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

logging.level.root=WARN

#hikari es un intermediario entre el driver y el sql, se encarga de la burocracia de la conexi�n, login
spring.datasource.hikari.connection-timeout=60000 
spring.datasource.hikari.minimum-idle=10 
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.idle-timeout=600000  
spring.datasource.hikari.max-lifetime=1800000 
spring.datasource.hikari.auto-commit=false
#todo es transaccional si pongo en false, le derivo a la persona que programa la gesti�n transaccional

logging.level.com.zaxxer.hikari.HikariConfig=DEBUG 
logging.level.com.zaxxer.hikari=INFO
#mi backend es cliente de mi BD
logging.level.edu.iua.nexus.NexusApplication=INFO
logging.level.edu.iua.nexus.NexusApplication.auth.filters.JWTAuthorizationFilter=INFO
spring.jackson.time-zone=America/Argentina/Buenos_Aires

# --- Configuracion de correo (MailConfig) ---
# Se usa el servidor SMTP de Gmail como salida de correo. Las credenciales se
# toman de las variables de entorno SMTP_USER y SMTP_PASS para evitar exponer
# datos sensibles; en su defecto se usan los valores por defecto definidos aqui.
# EmailBusiness consume mail.from como direccion de origen y AlarmEventListener
# usa mail.temperature.exceeded.send.to como destinatario de alertas por temperatura.
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${SMTP_USER:aggostinaperez@gmail.com}
spring.mail.password=${SMTP_PASS:uedzxgivpfhrdehr}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
mail.from=${spring.mail.username}

# Custom logging levels for specific classes
logging.level.ar.edu.iw3.util.services.EmailBusiness=INFO
logging.level.ar.edu.iw3.events.AlarmEventListener=INFO

# Property settings for the application

# Destinatario para las notificaciones de temperatura excedida
mail.temperature.exceeded.send.to=aperez959@alumnos.iua.edu.ar
loading.details.saving.frequency=5000

# Modelo
#   Persistencia
# Negocio: logica de servicios
#   Servicios Web
